<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Chat room</title>
	<script src="../lib/vue.min.js">
	</script>
	<script type="text/javascript">
		function WebSocketTest() {
			if ("WebSocket" in window) {
				alert("WebSocket is supported by your Browser!");
				// Let us open a web socket
				var ws = new WebSocket("ws://localhost:3000/ws/chat");
				ws.onopen = function () {
					// Web Socket is connected, send data using send()
					ws.send("Message to send");
					alert("Message is sent...");
				};
				ws.onmessage = function (evt) {
					var received_msg = evt.data;
					alert("Message is received...");
				};
				ws.onclose = function () {
					// websocket is closed.
					alert("Connection is closed...");
				};
			} else {
				// The browser doesn't support WebSocket
				alert("WebSocket NOT supported by your Browser!");
			}
		}
	</script>
</head>
<body>
	<div id="user-list">
		<div v-for="user in users">
			<div class="media-body">
				<h4 class="media-heading" v-text="user.name"></h4>
			</div>
		</div>
	</div>
	<div id="sse">
		<a href="javascript:WebSocketTest()">Run WebSocket</a>
	</div>

</body>

</html>